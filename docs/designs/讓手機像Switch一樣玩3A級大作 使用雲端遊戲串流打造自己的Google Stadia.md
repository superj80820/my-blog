---
title:  讓手機像Switch一樣玩3A級大作 使用雲端遊戲串流打造自己的Google Stadia
---

好 先給大家看看成品

![](https://i.imgur.com/8rVjlTF.gif)

除了文章以外也可以看Youtube的直接介紹

{%youtube _EL7I_JOuUQ %}

事情是這樣的 有天我跟懶者我朋友 這裡簡稱小子好了 一起買了GTA5 殊不知他的電腦是...

![](https://i.imgur.com/lYHXqvt.png)

恩 優雅高級時尚的Mac 是不支援GTA5的呢

頓時我整個

![](https://i.imgur.com/mtxnRBd.png)

於是我開始慫恿小子灌個Windows系統 但小子怎麼就是不灌(與其說懶 不如說不會灌orz

好吧 只好上網找找有什麼方法解決 就查到了**Google Stadia**

![](https://i.imgur.com/rbdckPl.png)

哪泥! 用**雲端串流遊戲**來玩遊戲!? 這到底是什麼巫術 但它還沒上線啊!

Damn! 不能讓GTA5白花啊 於是有了此文章XD

## 先來講講目前雲端遊戲的痛點

在2018年**Google**預告將為大家提供令人驚呆的服務**Google  Stadia**

預計在2019年11月發表 雖然台灣沒有在發表區域內QQ 而且目前好樣也不支援GTA5

但是雲端串流遊戲的概念還是彷彿黑科技一般

簡單的來說 就是讓**手機**, **平板**, **電腦** 都能連到Google伺服器的超級顯卡電腦上進行遊戲運算 並且把畫面串流下來

但其實 很多大廠在很久以前就有推出這樣的**雲端遊戲**功能 例如: PlayStation Now, Geforce Now , Steam Link 甚至老牌的g-cluster

![](https://i.imgur.com/IkuqZxA.png)

**但是為什麼都沒有火起來？**

以下是我個人見解啦

可以來看看最近(其實也幾年前惹)g-cluster與最終幻想合作的手機板FF13

https://youtu.be/_EL7I_JOuUQ?t=99

玩起來的問題 我覺的可以統計為以下幾點

1. 手機操作不友善
2. 只支援手機
3. 串流會不穩定

前兩點都可以靠軟體技術解決 就是**串流不穩定**這點 是讓各大廠商直接眼神死的硬體痛點

以PlayStation Now來說 最理想的雲端串流應該是要延遲越低越好 主機離你越近當然延遲越少 這還滿直觀的

![](https://i.imgur.com/CgZBM4K.jpg)

但實際上以往的PlayStation Now要雲端串流必須這樣

![](https://i.imgur.com/vRpszyP.png)

沒錯 我們必須要遠渡太平洋連線到遙遠的北美進行遊戲串流 這樣當然延遲爆炸高呀

最根本的解決辦法 就是在**全球廣設資料中心** 讓不同國家的玩家可以連入與自己位置最近的遊戲伺服器進行串流 這樣Ping就會低

但是Sony並沒有那麼多**資料中心**啊 應該說 這不是Sony的本業 那我們看看Sony怎麼解決這件事情的

新聞: [Sony與微軟攜手發展雲端遊戲](https://www.ettoday.net/news/20190521/1449539.htm)

當時大家看到這個新聞都覺得太扯了 從以前到現在都是死對頭的兩人竟然會合作

但其實微軟在全球有許多的資料中心 那就是Azure

跟微軟合作就不用再去各個國家殖民資料中心惹 一個計畫通啊

![](https://i.imgur.com/6TYkrJ3.png)

而Google GCP, 亞馬遜AWS在全球也擁有許多資料中心 所以[任天堂的Switch online可能跟Google Stadia合作](https://axiang.cc/archives/47016)也就合理了起來

(另外補充一點 Steam Link是讓玩家直接在家裡架設雲端Server 由於一般人家裡的網路與電腦通常不適合當Server 所以延遲就理所當然了)

## 好 我懂了 那到底要怎麼自己搞一個雲端遊戲機?

好的 其實早在N年前 PS1與N64的的第五世代遊戲機時期

台灣就出了一台A'Can 遊戲機 當時爆米花頻道採用 用[**電話數字鍵來玩電視頻道裡的遊戲**](https://www.cool3c.com/article/100762)

![](https://i.imgur.com/wNcQjjp.png)

不得不說這先人的智慧真的很創意屌啊

而我認為這就算一種雲端遊戲 廣義簡單的來說就是

> 使用者用電話傳送指令 >> 遠端主機收到指令執行 >> 回傳畫面給使用者

你也許會說 **那不是跟遠端桌面一樣**

就像Teamviewer, Chrome遠端桌面

對 你說對了 其實雲端遊戲就是一種遠端桌面

我們可以看看外國玩家 連入Geforce Now 主機 其實也是一個遠端桌面

https://youtu.be/_EL7I_JOuUQ?t=258

差別在於

> 編碼與解碼技術

以Google Stadia來說 就聲稱使用了VP9, AV1 這些快速低延遲的編碼系統

> 虛擬化GPU技術的成熟

也是讓雲端遊戲更好達成的一個原因 簡單的來說

應該有許多人試過在電腦上安裝虛擬電腦來跑遊戲 得到的結果往往就是遊戲卡到爆

主要原因就是虛擬機VM的**Hypervisor**對於**GPU硬體**的抽象化還不完全

不能很直接的使用實體GPU模擬在VM內 而在近年 因為一些線上工業繪圖的需求 GPU的虛擬化到了一個新水準

就是[GRID技術](https://www.nvidia.com/zh-tw/design-visualization/grid-vpc-vapps/)

![](https://i.imgur.com/7SA9x9y.png)

讓我翻譯一下這張圖 就是**現在終於可以讓實體GPU透過Hypervisor來分配資源在虛擬機裡面**啦~

## 我們來開始做虛擬遊戲機吧

![](https://i.imgur.com/FUnliWB.png)

請點選連結進到cloud-gaming 的 github repository: https://github.com/superj80820/cloud-gaming

我們採用Google的雲端平台**Google Cloud Platform** 簡稱**GCP**

透過GCP的雲端虛擬引擎來創建虛擬遊戲機

有趣的是GCP提供12個月300美金的免費額度

並且一般遊戲機每小時只要0.869美元 意思是

> 我們可以免費玩 300 / 0.869 = 345.22小時!

而高規格也只要約1美元 也有約300小時的遊玩時間

這很吸引我 因為我從以前玩遊戲到現在 Steam也不過只玩了150小時左右xdd

---

cloud-gaming把可以自動化的部份都寫成腳本了 點進去按照裡面步驟執行即可 滿簡單的 大致上就是:

大家只要點進去按照步驟做就行了 滿簡單的 大致上就是:

1. 註冊一顆Google-GPU
2. 跑自動腳本

主要就是把需要安裝的GRID裝好 防火牆設定好 VM的設定參數設定好 該安裝的軟體裝好

然後使用我們的主角**Parsec**來做一個遊戲串流

![](https://i.imgur.com/HW98EJk.png)

而Parsec屬於**雲端串流** 而且官方非常佛心的把此功能釋放成軟體 讓玩家可以客製化 不用綁在官方指定的伺服器上 所以我們就把Parsec灌在GCP遊戲機上 那它就可串流了 就這麼簡單

## 可以玩在什麼情境

好了 現在有自己的Google Stadia(偽)了 那可以怎麼惡搞它呢

1. 跨平台 Mac, Android, IOS 都可以玩Windows系列的遊戲 很本質的解決了小子的Mac問題
    ![](https://i.imgur.com/hqeAcy4.jpg)
2. 跟Switch一樣隨時在手上玩3A大作的幸福感 簡單來說就是手機也可以一直玩家機遊戲了啦
    ![](https://i.imgur.com/jrJuuiO.jpg)
3. 跟Switch一樣的派對遊戲機 如果有朋友一起出來 可以直接拿出搖桿跟朋友一起玩
    ![](https://i.imgur.com/yXVy1q1.jpg)
4. 可以一起連到同台遊戲機玩遊戲 讓**本機多人**直接變成**線上多人**
    這個算是意外的發現 但卻很實用 由於我本身喜歡跟朋友玩遊戲
    所以都會買派對遊戲 但派對遊戲很多都是本機多人
    使用Parsec可以發送邀請連結 只要對方電腦或手機也有安裝Parsec
    就可以一起連入遊戲機 我用這個方法跟小子打了世界久的超級雞馬
    ![](https://i.imgur.com/JibixFR.png)
    
不過 它當然還是有他的缺點｡ﾟ(｡ﾉω＼｡)ﾟ｡

1. 宅爆xdd 曾經拿過這個『Switch版手機』去給公司同事觀摩一下 本來想說會有Swich那樣大家搶著要玩的效果 結果就是我一個人默默的玩Magica 恩...果然Switch會受大家喜愛還是有它魅力的地方 我這台太硬核了
2. 對網路依賴性高 使用台灣的虛擬機已經解決了ping的問題 但是下載速度的問題還是要注意 我是使用中華電信的4G網路 在網站speedtest測試約50M 非常順暢 而我測試到最低15M都可以正常遊玩 如果再往下就會卡了
3. 對於專業玩家來說可能不適合 依照我與小子使用下來 我們覺得cloud-gaming雲端串流偏向於玩派對遊戲 或者正常效能來玩3A級大做的人 如果是效能全開派 可能就沒辦法滿足你的需求 簡單的來說 cloug-gaming的效能與定位真的就跟switch很像

## 最後

起初只是想要在Mac上玩個GTA5 後來覺得滿酷的 就生出這文章了

雲端遊戲一直以來都是個雷聲大雨點小的概念

從以前到現在的發表都獲得不太好得評價 因為家機的生態也很成熟了

但 任天堂以前的悲劇主機Visual Boy現今被VR拿來借鑑 wii體感能夠紅極一時也是因為自從紅白機時代就開始推出威力手套而累積的種種經驗 雖然這個東西真的很母湯

很難說未來會發生甚麼事 因此這次的Google Stadia我也是滿樂見的

另外說明一下 我個人完全不排斥家機 只是單純拿來與雲端遊戲比較沒有其他意思xd 有錢的話 我很想要一台QQ

最後關於cloud-gaming 每個人一定會遇到不同問題 歡迎大家到Github連結裡面與我們討論

希望大家喜歡

<disqus />